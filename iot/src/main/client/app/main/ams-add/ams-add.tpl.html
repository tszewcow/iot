<div class="modal-header">
    <div class="modal-title">
        <h3>Add AMS</h3>
    </div>
</div>
<form name="amsAddForm">
    <div class="modal-body">
        <div class="row">
            <div class="form-group col-md-2 required">
                <label>Project</label>
            </div>
            <div class="form-group col-md-10"
                 data-ng-class="{'has-error': amsAddForm.projectInput.$invalid && amsAddForm.projectInput.$dirty,'has-success': amsAddForm.projectInput.$valid}">
                <input name="projectInput" class="form-control" type="text" data-ng-model="newAms.project" data-ng-required="true"
                       data-ng-maxlength="64" data-ng-minlength="1" data-popover="If <none> then project and guardian will disabled."
                       data-popover-trigger="mouseenter"/>

                <p data-ng-show="amsAddForm.projectInput.$invalid && amsAddForm.projectInput.$dirty" class="help-block">Name is required and max length is
                    64 characters.</p>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-2" data-ng-class="{required: !disableGuardianInput()}">
                <label>Guardian</label>
            </div>
            <div class="form-group col-md-10"
                 data-ng-class="{'has-error': amsAddForm.guardiaInput.$invalid && amsAddForm.guardiaInput.$dirty,'has-success': amsAddForm.guardiaInput.$valid}">
                <input data-ng-disabled="disableGuardianInput()" name="guardiaInput" type="text" data-ng-model="newAms.guardian"
                       class="form-control" data-ng-required="!(disableGuardianInput())" maxlength="64" data-ng-minlength="1"
                       data-popover="Name of the person responsible for the AMS." data-popover-trigger="mouseenter"/>

                <p data-ng-show="amsAddForm.guardiaInput.$invalid && amsAddForm.guardiaInput.$dirty" class="help-block">Guardian is required and max length
                    is 64 characters.</p>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-2 required">
                <label>Building</label>
            </div>
            <div class="form-group col-md-4"
                 data-ng-class="{'has-error': amsAddForm.buildingInput.$invalid && amsAddForm.buildingInput.$dirty,'has-success': amsAddForm.buildingInput.$valid}">
                <select name="buildingInput" data-type="text" data-ng-model="newAms.building" class="form-control" data-ng-required="true">
                    <option data-ng-hide="newAms.building" value="">Please select building</option>
                    <option value="MT2">MT II</option>
                    <option value="MT4">MT IV</option>
                </select>

                <p data-ng-show="amsAddForm.buildingInput.$invalid  && amsAddForm.buildingInput.$dirty" class="help-block">Building is required.</p>
            </div>
            <div class="form-group col-md-2 required">
                <label>Floor</label>
            </div>
            <div class="form-group col-md-4 required"
                 data-ng-class=" { 'has-error': amsAddForm.floorInput.$invalid && amsAddForm.floorInput.$dirty, 'has-success': amsAddForm.floorInput.$valid}">
                <select name="floorInput" data-type="text" data-ng-model="newAms.floor" class="form-control" data-ng-required="true"
                        data-ng-options="floor for floor in buildings[newAms.building]" data-ng-disabled="!(buildings[newAms.building])">
                    <option data-ng-hide="newAms.floor" value="">Please select floor</option>
                </select>

                <p data-ng-show="amsAddForm.floorInput.$invalid && amsAddForm.floorInput.$dirty" class="help-block">Floor is required and it must be a number.</p>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-2 required">
                <label>Room</label>
            </div>
            <div class="form-group col-md-4"
                 data-ng-class="{ 'has-error': amsAddForm.roomInput.$invalid && amsAddForm.roomInput.$dirty, 'has-success': amsAddForm.roomInput.$valid}">
                <input name=" roomInput" type="number" data-ng-model="newAms.room" class="form-control" data-ng-required="true"
                       data-ng-pattern=" /^[0-9]{1,3}$/"/>

                <p data-ng-show="amsAddForm.roomInput.$invalid && amsAddForm.roomInput.$dirty" class="help-block">Room is required and it must be a number.</p>
            </div>
            <div class="form-group col-md-2 required">
                <label>MAC</label>
            </div>
            <div class="form-group col-md-4"
                 data-ng-class="{ 'has-error': amsAddForm.macInput.$invalid && amsAddForm.macInput.$dirty, 'has-success': amsAddForm.macInput.$valid}">
                <input type="text" name="macInput" data-ng-model="newAms.macAutomaticMobileSet" data-ng-disabled="false" class="form-control"
                       data-ng-required="true" data-ng-pattern="/^[a-f0-9]{2}\:[a-f0-9]{2}\:[a-f0-9]{2}\:[a-f0-9]{2}\:[a-f0-9]{2}\:[a-f0-9]{2}$/"
                       data-popover="Format of MAC address is e.g.: d2:sd:23:ds:23:sd ." data-popover-trigger="mouseenter"/>

                <p data-ng-show="amsAddForm.macInput.$invalid && amsAddForm.macInput.$dirty" class="help-block">MAC is required and must be valid.</p>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-2 required">
                <label>IP</label>
            </div>
            <div class="form-group col-md-10"
                 data-ng-class="{ 'has-error': amsAddForm.ipInput.$invalid && amsAddForm.ipInput.$dirty, 'has-success': amsAddForm.ipInput.$valid}">
                <input type="text" name="ipInput" data-ng-model="newAms.ipAutomaticMobileSet" data-ng-disabled="false" class="form-control"
                       data-ng-required="true" data-ng-pattern="/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/"
                       data-popover="Format of IP address is e.g.:  198.16.5.5 ." data-popover-trigger="mouseenter"/>

                <p data-ng-show="amsAddForm.ipInput.$invalid && amsAddForm.ipInput.$dirty" class="help-block">Ip is required and must be valid.</p>
            </div>
        </div>
    </div>
</form>

<div class="modal-footer">
    <button type="submit" class="btn btn-primary" data-ng-click="ok()" data-ng-disabled="amsAddForm.$invalid">OK</button>
    <button class="btn btn-warning" type="button" data-ng-click="cancel()">Cancel</button>
    <p class="col-md-2 text-danger">* required</p>
</div>